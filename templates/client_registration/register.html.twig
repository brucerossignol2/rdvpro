{# templates/client_registration/register.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Inscription Client - RDV Pro{% endblock %}

{% block body %}
<div class="container d-flex justify-content-center align-items-center my-4">
    <div class="card shadow-lg p-4" style="max-width: 600px; width: 100%;">
        <div class="card-body">
            <h1 class="h3 mb-4 fw-normal text-center text-primary">
                <i class="fas fa-user-plus me-2"></i> Créez votre compte client
            </h1>

            {# Afficher le nom du professionnel si disponible #}
            {% if professional is defined and professional %}
                <p class="text-center text-muted mb-4">
                    Pour prendre rendez-vous avec <strong>{{ professional.businessName }}</strong>, veuillez créer votre compte client.
                </p>
            {% endif %}

            {{ form_start(registrationForm, {'attr': {'novalidate': 'novalidate'}}) }}
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            {{ form_label(registrationForm.firstName) }}
                            {{ form_widget(registrationForm.firstName) }}
                            {{ form_errors(registrationForm.firstName) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(registrationForm.lastName) }}
                            {{ form_widget(registrationForm.lastName) }}
                            {{ form_errors(registrationForm.lastName) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(registrationForm.email) }}
                            {{ form_widget(registrationForm.email) }}
                            {{ form_errors(registrationForm.email) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(registrationForm.plainPassword) }}
                            {{ form_widget(registrationForm.plainPassword) }}
                            {{ form_errors(registrationForm.plainPassword) }}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            {{ form_label(registrationForm.telephone) }}
                            {{ form_widget(registrationForm.telephone) }}
                            {{ form_errors(registrationForm.telephone) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(registrationForm.rue) }}
                            {{ form_widget(registrationForm.rue) }}
                            {{ form_errors(registrationForm.rue) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(registrationForm.codePostal) }}
                            {{ form_widget(registrationForm.codePostal) }}
                            {{ form_errors(registrationForm.codePostal) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(registrationForm.ville) }}
                            {{ form_widget(registrationForm.ville) }}
                            {{ form_errors(registrationForm.ville) }}
                        </div>
                    </div>
                </div>

                <div class="mb-3 form-check">
                    {{ form_widget(registrationForm.agreeTerms) }}
                    <label class="form-check-label" for="{{ registrationForm.agreeTerms.vars.id }}">
                        J'accepte les <a href="{{ path('app_legal_terms_client') }}" target="_blank" class="text-primary">conditions d'utilisation</a>
                    </label>
                    {{ form_errors(registrationForm.agreeTerms) }}
                </div>

                <button type="submit" class="w-100 btn btn-lg btn-primary">
                    <i class="fas fa-user-plus me-2"></i> S'inscrire en tant que client
                </button>
            {{ form_end(registrationForm) }}

            <p class="mt-3 mb-0 text-muted text-center">
                Déjà un compte ? <a href="{{ path('app_login') }}">Connectez-vous ici</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}